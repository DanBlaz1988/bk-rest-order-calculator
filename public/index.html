<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>BK Rest Order Calculator</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  background:#0b1220;
  color:#e5e7eb;
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
}
h1{margin:0 0 6px 0}
.sub{opacity:.7;font-size:14px}

.app{
  width:100%;
  padding:16px 20px 40px;
}

.top{
  display:flex;
  gap:16px;
  flex-wrap:wrap;
  margin:16px 0 20px;
}
.top input{
  background:#0f172a;
  border:1px solid #1e293b;
  color:#fff;
  padding:10px 12px;
  border-radius:8px;
  min-width:180px;
}

.table{
  width:100%;
  overflow-x:auto;
}

.row{
  display:grid;
  grid-template-columns:
    60px
    260px
    120px
    160px
    120px
    160px
    160px
    160px;
  gap:8px;
  padding:8px 0;
  border-bottom:1px solid #1e293b;
}
.row.header{
  font-weight:600;
  opacity:.8;
}
.cell input{
  width:100%;
  background:#0f172a;
  border:1px solid #1e293b;
  color:#fff;
  padding:6px 8px;
  border-radius:6px;
}
.readonly{
  background:#064e3b !important;
  border-color:#065f46 !important;
}

@media(max-width:1100px){
  .row{
    grid-template-columns:
      60px 220px 110px 140px 110px 140px 140px 140px;
  }
}
</style>
</head>

<body>
<div class="app">
  <h1>BK Rest Order Calculator</h1>
  <div class="sub">pro1000 method</div>

  <div class="top">
    <input id="planned" type="number" placeholder="Planned Umsatz (€)">
    <input id="yesterday" type="number" placeholder="Yesterday Umsatz (€)">
  </div>

  <div class="table">
    <div class="row header">
      <div>Nr</div>
      <div>Item</div>
      <div>Pack size</div>
      <div>Yesterday used</div>
      <div>pro1000</div>
      <div>Total stock</div>
      <div>Incoming</div>
      <div>To order</div>
    </div>

    <!-- ITEMS -->
    <div id="rows"></div>
  </div>
</div>

<script>
const items = [
 {nr:43,name:"Long Chicken Patty",pack:112},
 {nr:50,name:"Whopper Patty",pack:132},
 {nr:53,name:"Crispy Chicken Patty",pack:136},
 {nr:55,name:"Burger Patty",pack:312},
 {nr:56,name:"King Wings",pack:325},
 {nr:57,name:"King Nuggets",pack:568},
 {nr:60,name:"Bacon",pack:930},
 {nr:100,name:"Pommes Frites",pack:12.5},
 {nr:107,name:"Zwiebelringe",pack:630},
 {nr:122,name:"Hot Brownie",pack:18},
 {nr:129,name:"Hot Blondie",pack:18},
 {nr:606,name:"Chilli Cheese Nuggets",pack:450},
 {nr:910,name:"Tomaten (kg)",pack:5},
 {nr:912,name:"Zwiebeln (kg)",pack:20},
 {nr:11577,name:"Mozzarella Sticks",pack:204},
 {nr:11816,name:"Chicken Tender Strips",pack:216},
 {nr:11866,name:"Gitterpommes",pack:10},
 {nr:11869,name:"Tortilla Wrap",pack:144},
 {nr:11947,name:"PlantBased WH Patty",pack:100},
 {nr:11973,name:"PlantBased Nuggets",pack:568},
 {nr:12010,name:"PlantBased HB Patty",pack:200},
 {nr:12029,name:"PlantBased Long Patty",pack:112},
 {nr:12061,name:"Premium Crunchy Chicken",pack:96},
 {nr:12110,name:"Mini Churros",pack:500},
 {nr:12180,name:"Falafel Bites",pack:249},
];

const rowsEl = document.getElementById("rows");

items.forEach((it,i)=>{
  rowsEl.insertAdjacentHTML("beforeend",`
    <div class="row" data-i="${i}">
      <div>${it.nr}</div>
      <div>${it.name}</div>
      <div>${it.pack}</div>
      <div class="cell"><input type="number" class="used"></div>
      <div class="cell"><input class="pro readonly" readonly></div>
      <div class="cell"><input type="number" class="stock"></div>
      <div class="cell"><input type="number" class="incoming"></div>
      <div class="cell"><input class="order readonly" readonly></div>
    </div>
  `);
});

function calc(){
  const planned = +document.getElementById("planned").value || 0;
  const yesterday = +document.getElementById("yesterday").value || 0;

  document.querySelectorAll(".row[data-i]").forEach(row=>{
    const used = +row.querySelector(".used").value || 0;
    const stock = +row.querySelector(".stock").value || 0;
    const incoming = +row.querySelector(".incoming").value || 0;
    const pack = +row.children[2].innerText;

    let pro = yesterday ? (used / yesterday) * 1000 : 0;
    let needed = planned * pro;
    let available = stock + incoming;
    let toOrder = Math.max(0, Math.ceil((needed - available) / pack));

    row.querySelector(".pro").value = pro.toFixed(2);
    row.querySelector(".order").value = toOrder;
  });
}

document.addEventListener("input", calc);
</script>
</body>
</html>
